<div>
  <div class="logo-container">
    <a
      routerLink="/"
      style="display: flex; align-items: center; text-decoration: none; color: inherit"
    >
      <img
        alt="devtalles-logo"
        src="logos/LOGO B.webp"
        style="object-fit: contain; width: 200px; height: auto"
      />
      <span class="brand-sub">Blog</span>
    </a>
  </div>

  @if (showNavbar()) {
  <nav class="navbar">
    <ul>
      @for (navbarLink of menuNavbar(); track $index) {
      <li>
        @if (navbarLink === 'Inicio') {
        <a href="#inicio">{{ navbarLink }}</a>
        } @else if (navbarLink === 'Categorías') {
        <a href="#categorias">{{ navbarLink }}</a>
        } @else {
        <span>{{ navbarLink }}</span>
        }
      </li>
      }
    </ul>

    <div class="navbar-actions">
      <a routerLink="/admin" class="admin-link" title="Panel Administrativo">
        <svg
          xmlns="http://www.w3.org/2000/svg"
          viewBox="0 0 24 24"
          width="24"
          height="24"
          fill="currentColor"
        >
          <path
            d="M12 1L21 6V18L12 23L3 18V6L12 1ZM12 3.5L5 7.5V16.5L12 20.5L19 16.5V7.5L12 3.5ZM7 9H17V11H7V9ZM7 13H17V15H7V13Z"
          />
        </svg>
        Admin
      </a>
      <div class="user-menu" (click)="toggleUserDropdown()">
        <div class="user-icon">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            viewBox="0 0 512 512"
            width="50"
            height="50"
          >
            <circle cx="256" cy="256" r="200" fill="#FFFFFF" />
            <circle cx="256" cy="200" r="80" fill="#808080" />
            <path d="M128 400c0-70 56-128 128-128s128 58 128 128" fill="#808080" />
          </svg>
        </div>

        <!-- Dropdown Menu -->
        @if (isUserDropdownOpen()) {
        <div class="user-dropdown" (click)="$event.stopPropagation()">
          @if (authService.isAuthenticated()) {
          <!-- Usuario autenticado -->
          <div class="dropdown-item user-info">
            <span class="user-name"
              >{{ authService.currentUser()?.firstName }}
              {{ authService.currentUser()?.lastName }}</span
            >
            <span class="user-email">{{ authService.currentUser()?.email }}</span>
          </div>
          <div class="dropdown-divider"></div>
          <button class="dropdown-item" (click)="logout()">Cerrar sesión</button>
          } @else {
          <!-- Usuario no autenticado -->
          <button class="dropdown-item" (click)="goToLogin()">
            <svg
              xmlns="http://www.w3.org/2000/svg"
              viewBox="0 0 24 24"
              width="16"
              height="16"
              fill="currentColor"
            >
              <path
                d="M12 2C13.1 2 14 2.9 14 4C14 5.1 13.1 6 12 6C10.9 6 10 5.1 10 4C10 2.9 10.9 2 12 2ZM21 9V7L15 1L9 7V9C9 10.1 9.9 11 11 11V20C11 21.1 11.9 22 13 22H13C14.1 22 15 21.1 15 20V11C16.1 11 17 10.1 17 9H21Z"
              />
            </svg>
            Iniciar sesión
          </button>
          <button class="dropdown-item" (click)="goToRegister()">
            <svg
              xmlns="http://www.w3.org/2000/svg"
              viewBox="0 0 24 24"
              width="16"
              height="16"
              fill="currentColor"
            >
              <path
                d="M15 12C17.21 12 19 10.21 19 8S17.21 4 15 4 11 5.79 11 8 12.79 12 15 12M6 10V7H4V10H1V12H4V15H6V12H9V10M15 14C12.33 14 7 15.34 7 18V20H23V18C23 15.34 17.67 14 15 14Z"
              />
            </svg>
            Registrarse
          </button>
          }
        </div>
        }
      </div>
    </div>
  </nav>
  }
</div>
